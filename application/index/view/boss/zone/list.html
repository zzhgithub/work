{extend name="boss/public/layout"/}

{block name="body"}
<div style="width: 98%;margin: 10px auto;">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>区域管理</legend>
        <a href="/boss/zone/add" class="btn layui-btn" role="button" style="float: right;margin-right: 20px;">添加</a>
    </fieldset>
    <table class="layui-table" lay-data="{ url:'/boss/zone/list',page:true,id:'idZone'}"
           lay-filter="zone">
        <thead>
        <tr>
            <th lay-data="{field:'id', width:60, sort: true}">ID</th>
            <th lay-data="{field:'name', width:400}">区域名</th>
            <th lay-data="{width:160, align:'center', toolbar: '#barzone'}">操作</th>
        </tr>
        </thead>
    </table>
    <script type="text/html" id="barzone">
        <a class="btn layui-btn" style="line-height: inherit;" lay-event="edit">编辑</a>
    </script>
</div>
{/block}

{block name="javascript"}
<script>
    layui.use(['table', 'jquery'], function () {
        var table = layui.table;
        //监听工具条
        table.on('tool(zone)', function (obj) {
            var data = obj.data;
            if (obj.event === 'edit') {
                location.href = '/boss/zone/mod/' + data.id;
            }
        });
    });
</script>
{/block}